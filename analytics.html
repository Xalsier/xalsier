<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Analytics</title>
<link rel="icon" type="image/x-icon" href="./favicon.ico">
<meta name="description" content="WIP. Data Visualization of Rawr Folder (And other stuff)">
<link rel="stylesheet" href="./css/covers.css">
<link rel="stylesheet" href="./css/index.css">
<link rel="stylesheet" href="./css/app.css">
<link rel="stylesheet" href="./css/custom/analytics.css">
<link rel="stylesheet" href="./css/mirror.css">
<link rel="stylesheet" href="./exp/testA.css">
<link rel="stylesheet" href="./exp/pen2/testB.css">
<link rel="stylesheet" href="./css/infographic.css">
</head>
<body>
  <header class="page-header" style="text-align: center;">
    <div class="header-left">
      <button id="sidebarToggle" class="sidebar-toggle" aria-label="Open navigation" aria-expanded="false" title="Open navigation">
        <!-- your SVG -->
        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 -960 960 960"   aria-hidden="true">
          <path d="M440-690v-100q0-42 29-71t71-29h100v100q0 42-29 71t-71 29H440ZM220-450q-58 0-99-41t-41-99v-140h140q58 0 99 41t41 99v140H220ZM640-90q-39 0-74.5-12T501-135l-33 33q-11 11-28 11t-28-11q-11-11-11-28t11-28l33-33q-21-29-33-64.5T400-330q0-100 70-170.5T640-571h241v241q0 100-70.5 170T640-90Zm0-80q67 0 113-47t46-113v-160H640q-66 0-113 46.5T480-330q0 23 5.5 43.5T502-248l110-110q11-11 28-11t28 11q11 11 11 28t-11 28L558-192q18 11 38.5 16.5T640-170Zm1-161Z"/>
        </svg>
      </button>
    </div>

    <div class="header-center">
      <h1>Analytics</h1>
    </div>
</header>

<div id="sidebarOverlay" class="sidebar-overlay" data-open="false" aria-hidden="true"></div>
<nav id="siteSidebar" class="site-sidebar" aria-hidden="true" aria-labelledby="sidebarToggle" data-open="false">
  <div class="sidebar-inner" role="navigation" aria-label="Site navigation">
    <div class="sidebar-section">
        <div class="sidebar-brand">
            <a href="index.html">xalsier.com</a>
            <button id="sidebarCloseBtn" class="sidebar-toggle" aria-label="Close navigation">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" aria-hidden="true">
                <path d="M440-690v-100q0-42 29-71t71-29h100v100q0 42-29 71t-71 29H440ZM220-450q-58 0-99-41t-41-99v-140h140q58 0 99 41t41 99v140H220ZM640-90q-39 0-74.5-12T501-135l-33 33q-11 11-28 11t-28-11q-11-11-11-28t11-28l33-33q-21-29-33-64.5T400-330q0-100 70-170.5T640-571h241v241q0 100-70.5 170T640-90Zm0-80q67 0 113-47t46-113v-160H640q-66 0-113 46.5T480-330q0 23 5.5 43.5T502-248l110-110q11-11 28-11t28 11q11 11 11 28t-11 28L558-192q18 11 38.5 16.5T640-170Zm1-161Z"/>
              </svg>
            </button>
        </div>
          
      <div class="sidebar-group" data-open="true" id="group-explore">
        <button class="group-toggle" aria-expanded="false">Explore</button>
        <ul class="group-list">
          <li><a href="index.html">Rawr Folder</a></li>
          <li><a href="bio.html">Biography</a></li>
          <li><a href="analytics.html">Analytics</a></li>
        </ul>
      </div>

      <div class="sidebar-group" data-open="true" id="group-stories">
        <button class="group-toggle" aria-expanded="true">Written works</button>
        <ul class="group-list">
          <li><a href="untitled.html">Swallow Pines: One-shot</a></li>
          <li><a href="lockjaw.html">Birth by Memory: Lockjaw</a></li>
        </ul>
      </div>

    <div class="sidebar-footer">
    </div>
  </div>
</nav>
<main class="container">
  <!-- Removed fade-in class from filter section -->
  <section class="filter-section">
    <div class="nav-tabs" id="channelTabs">
      <button class="nav-tab active" data-channel="rawr-folder">Rawr Folder</button>
      <button class="nav-tab" data-channel="social-media">Projects</button>
      <button class="nav-tab" data-channel="website">Website</button>
    </div>
  </section>

  <!-- Removed fade-in class from analytics content -->
  <section class="analytics-content" id="analytics-content">

    <div class="server-limit-container" style="margin-top: 40px; padding: 20px; border: 1px solid var(--green); border-radius: 12px;">
      <h1 style="color: var(--green);">Server Capacity</h1>
      <p id="measurement-count" style="font-size: 0.9em; opacity: 0.8;"></p>
      
      <div class="progress-wrapper" style="height: 30px; width: 100%; background: #222; border-radius: 15px; overflow: hidden; display: flex; margin: 15px 0;">
        <div id="bar-svg" style="height: 100%; transition: width 0.5s;"></div>
        <div id="bar-avif" style="height: 100%; transition: width 0.5s;"></div>
        <div id="bar-gif" style="height: 100%; transition: width 0.5s;"></div> <div id="bar-webp" style="height: 100%; transition: width 0.5s;"></div>
        <div id="bar-webm" style="height: 100%; transition: width 0.5s;"></div>
        <div id="bar-jpg" style="height: 100%; transition: width 0.5s;"></div>
        <div id="bar-png" style="height: 100%; transition: width 0.5s;"></div>
        <div id="bar-other" style="height: 100%; transition: width 0.5s;"></div>
    </div>
  
      <div id="size-legend" style="display: flex; flex-wrap: wrap; gap: 15px; font-size: 0.9em;"></div>
      <div style="margin-top: 10px; font-weight: bold;">
          Total: <span id="total-size-display">0</span> / 25 MB
      </div>
      <div id="size-legend" style="display: flex; flex-wrap: wrap; gap: 15px; font-size: 0.9em; margin-top: 10px;">
      </div>
  </div>

  <br>

  <br>

    <div id="app">
      <!-- Loading State -->
      <div id="loadingContainer" class="loading-container">
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
      </div>

      <!-- Main Content -->
      <div id="mainContent" class="main-content">
        <h1 id="chartTitle" class="chart-title">Distribution of Gender</h1>
        
        <div class="chart-container">
          <canvas id="pieChart" width="350" height="350" aria-label="Animated Pie Chart showing data distribution"></canvas>
        </div>

        <!-- Added category selection dropdown -->
        <div class="category-selection">
          <select id="categorySelect" class="category-select"></select>
          <div id="chartLegend" class="chart-legend"></div>
          <div id="sliderContainer" style="margin-top:10px;"></div>
  
        </div>

        <!-- Added legend/key -->
      </div>
    </div>

<br>

    <h1>2022-2030 Activity</h1>

    <br>

    <br>

    <div class="heatmap-container">
      <div id="heatmap"></div>
    </div>
    <br>

    <br>

    <div class="bar-chart-container">
      <div class="bar-chart-title">Top Mirror Dependencies</div>
      <div class="controls">
          <button class="control-btn" id="minus-btn">-</button>
          <button class="control-btn" id="plus-btn">+</button>
      </div>
      <svg class="bar-chart-svg"></svg>
  </div>

    <div style="width: 100%; display: flex; justify-content: center;flex-direction:column; padding: 20px;margin-top: 30px;">
        <h1 style="color: var(--green);">Rawr Folder Stats:</h1>
        <div style="display:flex;flex-direction:row;width:100%;gap:20px;text-align: center;justify-content: center;font-size: 1.5em;">
          <span id="archive-count" class="archive-header"></span>
          <span id="tag-count" class="archive-header"></span>
        </div>
    </div>

    
  </section>

  <section class="social-media-content" id="social-media-content" style="display: none;">
    <div class="no-content">
      <h2>Untitled Comic Analytics</h2>
    
      <div class="uc-legend">
        <div class="legend-item"><span class="dot break"></span> Break</div>
        <div class="legend-item"><span class="dot sketch"></span> Sketch</div>
        <div class="legend-item"><span class="dot vector"></span> Vector</div>
      </div>
    
      <div class="uc-analytics-body">
        <div class="uc-row">
          <div class="page-label">Page 1</div>
          <div class="uc-timeline">
            <div class="segment break" style="flex: 1;">1d</div>
            <div class="segment sketch" style="flex: 1;">1d</div>
            <div class="segment vector" style="flex: 1;">1d</div>
          </div>
          <div class="total-days">3 Days Total</div>
        </div>
    
        <div class="uc-row">
          <div class="page-label">Page 2</div>
          <div class="uc-timeline">
            <div class="segment break" style="flex: 5;">5d</div>
            <div class="segment sketch" style="flex: 2;">2d</div>
            <div class="segment vector" style="flex: 1;">1d</div>
          </div>
          <div class="total-days">8 Days Total</div>
        </div>
      </div>
    </div>
    <br>
    <div class="no-content">
      <h2>Coding Project Analytics</h2>
      <div id="timeline-infographic" class="timeline-infographic"></div>
    </div>
  </section>

  <section class="website-content" id="website-content" style="display: none;padding:10px;">
    <br>
    <br>
    <h1>December 2025 Milestone</h1>
    <br>
    <h2 style="text-align: center;">First ~1000 Site Impressions</h2>
    <br>
    <div style="display: flex; justify-content: center; max-width: 500px; margin: auto;">
      <object type="image/svg+xml" data="./svg/graph/impressions.svg" style="max-width: 100%; height: auto;"></object>
    </div>
    <br>
    <br>
    <h1>August 2025 Milestone</h1>
    <br>
    <h2 style="text-align: center;">First ~100 Views</h2>
    <div style="display: flex; justify-content: center; max-width: 500px; margin: auto;">
        <object type="image/svg+xml" data="./svg/graph/100.svg" style="max-width: 100%; height: auto;"></object>
    </div>
    <br>
</section>
</main>

<footer>
  <div class="social-bar" id="socialBar"></div>
  <center style="gap:20px;display:flex;width:100%;justify-content: center;">
    <a style="font-size: 1.5em;" href="bio.html">About</a>
    <a style="font-size: 1.5em;" href="socials.html">Socials</a> 
    <a style="font-size: 1.5em;" href="contact.html">Contact</a>
    <a style="font-size: 1.5em;" href="sitemap.html">Sitemap</a>  
  </center>
  <center><div style="font-size: 1.5em;width: 100%;display:flex;justify-content: center;flex-direction: column;">Â© Xalsier 2025-2026</div></center>
</footer>

<!-- Updated script loading order with con_archive.js first -->
<script src="./con/con_archive.js"></script>
<script src="./con/library.js"></script>
<script src="./js/utility.js"></script>
<script src="./js/select.js"></script>
<script src="./js/server.js"></script>
<script src="./js/mirror.js"></script>
<script src="./exp/testA.js"></script>
<script src="./exp/pen2/testB.js"></script>
<script src="./con/con_proj.js"></script>
<script src="./js/infographic.js"></script>
<script src="./js/utility/chart_toggles.js"></script>
<script src="./js/sidebar.js"></script>
<script>
    updateArchiveHeader();
  </script>
</body>
</html>
