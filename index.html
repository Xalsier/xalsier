<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Xalsier.com</title>
  <meta name="description" content="Rawr Folder: A searchable furry-themed gallery of Xalsier's artwork and other project media.">
  <link rel="stylesheet" href="./css/archive.css">
  <link rel="stylesheet" href="./css/index.css">
  <link rel="stylesheet" href="./css/index/notice.css">
  <link rel="stylesheet" href="./css/index/warning.css">
  <link rel="stylesheet" href="./css/index/profile.css">
  <link rel="stylesheet" href="./css/index/markdown.css">
  <link rel="stylesheet" href="./css/index/start.css">
</head>

<body>
  <header class="page-header" style="text-align: center;">
    <div class="header-left">
      <button id="sidebarToggle" class="sidebar-toggle" aria-label="Open navigation" aria-expanded="false" title="Open navigation">
        <!-- your SVG -->
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3" aria-hidden="true">
          <path d="M440-690v-100q0-42 29-71t71-29h100v100q0 42-29 71t-71 29H440ZM220-450q-58 0-99-41t-41-99v-140h140q58 0 99 41t41 99v140H220ZM640-90q-39 0-74.5-12T501-135l-33 33q-11 11-28 11t-28-11q-11-11-11-28t11-28l33-33q-21-29-33-64.5T400-330q0-100 70-170.5T640-571h241v241q0 100-70.5 170T640-90Zm0-80q67 0 113-47t46-113v-160H640q-66 0-113 46.5T480-330q0 23 5.5 43.5T502-248l110-110q11-11 28-11t28 11q11 11 11 28t-11 28L558-192q18 11 38.5 16.5T640-170Zm1-161Z"/>
        </svg>
      </button>
    </div>

    <div class="header-center">
      <h1>Rawr Folder</h1>
    </div>
</header>

<div id="sidebarOverlay" class="sidebar-overlay" data-open="false" aria-hidden="true"></div>
<nav id="siteSidebar" class="site-sidebar" aria-hidden="true" aria-labelledby="sidebarToggle" data-open="false">
  <div class="sidebar-inner" role="navigation" aria-label="Site navigation">
    <div class="sidebar-section">
        <div class="sidebar-brand">
            <a href="index.html">xalsier.com</a>
          </div>
          
      <div class="sidebar-group" data-open="false" id="group-explore">
        <button class="group-toggle" aria-expanded="false">Explore</button>
        <ul class="group-list">
          <li><a href="index.html">Rawr Folder</a></li>
          <li><a href="bio.html">Biography</a></li>
          <li><a href="reviews.html">Book Reviews</a></li>
          <li><a href="analytics.html">Analytics (WIP)</a></li>
        </ul>
      </div>

      <div class="sidebar-group" data-open="true" id="group-stories">
        <button class="group-toggle" aria-expanded="true">Short Stories</button>
        <ul class="group-list">
          <li><a href="breath.html">Last Breath</a></li>
          <li><a href="untitled.html">Untitled Project (WIP)</a></li>
        </ul>
      </div>

      <div class="sidebar-group" data-open="false" id="group-games">
        <button class="group-toggle" aria-expanded="false">Projects</button>
        <ul class="group-list">
          <li><a href="blackjack.html">Blackjack Trouble (WIP)</a></li>
          <li><a href="pachinko.html">パチンコ 2023 (Buggy)</a></li>
          <li><a href="swatch.html">Swatch Randomizer</a></li>

        </ul>
      </div>

      <div class="sidebar-group" data-open="true" id="group-other">
        <button class="group-toggle" aria-expanded="true">Other Archives</button>
        <ul class="group-list">
          <li><a href="notice.html">Notices</a></li>
          <li><a href="youtube.html">YouTube</a></li>
        </ul>
      </div>
    </div>

    <div class="sidebar-footer">
      <button id="sidebarCloseBtn" class="sidebar-close" aria-label="Close navigation">Close</button>
    </div>
  </div>
</nav>
  <br>
  <div class="announcement-card">
    <div class="announcement-header">
      <img 
        id="announcement-avatar"
        class="announcement-avatar" 
        src="" 
        alt=""
        title="">
      <div class="announcement-name-date">
        <span id="announcement-name" class="announcement-name"></span>
        <span id="announcement-date" class="announcement-date"></span>
      </div>
    </div>
    <div class="announcement-message" id="announcement-message">
    </div>
  </div>

    <!-- Filter Section -->
    <div class="filter-section">
      <div class="filter-controls">
        <div class="filter-group">
          <label for="metaFilter">Meta</label>
          <select id="metaFilter" class="filter-select">
            <!-- Options will be populated by JavaScript -->
          </select>
        </div>
  
        <div class="filter-group">
          <label for="characterFilter">Characters</label>
          <select id="characterFilter" class="filter-select">
            <!-- Options will be populated by JavaScript -->
          </select>
        </div>
  
        <div class="filter-group">
          <label for="attributeFilter">Attributes</label>
          <select id="attributeFilter" class="filter-select">
            <!-- Options will be populated by JavaScript -->
          </select>
        </div>
      </div>
  
      <!-- Active Filters Display -->
      <div class="active-filters" id="activeFilters"></div>

      
  
      <!-- Search Section -->
      <div class="search-section">
        <button class="search-btn" id="searchBtn" onclick="performSearch();">Search</button>
        <div class="progress-container" id="progressContainer" style="display: none;">
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <div class="progress-text" id="progressText">Searching...</div>
        </div>
      </div>
  
    </div>

  
    <!-- Gallery Section -->
    <div class="gallery-section" id="gallerySection">

            <!-- Pagination -->
            <div class="pagination" id="pagination"></div>
            <br>
      <div class="gallery-grid" id="galleryGrid">
        <!-- Gallery items will be populated by JavaScript -->
      </div>
  
      <div class="character-profile-section" id="characterProfileSection" style="display: none;">
        <div class="character-profile-card">
          <div class="character-header">
            <img id="profileImage" alt="Character Image">
            <div class="character-info">
              <h2 id="profileName"></h2>
              <p id="profileProject"></p>
              <p id="profileDescription"></p>
            </div>
          </div>
          <div class="character-details">
            <div class="character-traits">
              <h3>Traits</h3>
              <div id="profileTraits"></div>
            </div>
            <div class="character-background">
              <p id="profileBackground"></p>
            </div>
          </div>
        </div>
      
        <!-- NEW: Markdown/story content goes here -->
        <div class="character-markdown">
          <div id="profileMarkdown"></div>
        </div>
      </div>
      

          <!-- Error Display -->
          <div class="error-display" id="errorDisplay" style="display: none;"></div>
  
    </div>
  
<!-- Image Expansion Modal -->
<div class="image-modal" id="imageModal">
  <div class="modal-backdrop"></div>
  <div class="modal-content">
    <button class="modal-close" id="modalClose">&times;</button>
    <div class="modal-image-container">
      <img id="modalImage" alt="">
    </div>
    <div class="modal-info">
      <h3 id="modalTitle"></h3>
      <div class="modal-meta">
        <p><strong style="text-align:left;">Created:</strong> <span id="modalDate"></span></p>
      </div>
      <div class="modal-versions-container" id="modalVersions"></div>
      <div class="modal-tags-section">
        <div class="modal-tags" id="modalTags"></div>
      </div>
      <!-- Alt/Desc insert point -->
      <div id="modalAltDesc"></div>
      <div class="modal-mirrors" id="modalMirrors"></div>
    </div>
  </div>
</div>


  <div id="warningModal" class="modal-overlay hidden">
      <div class="modal-warn-content modal-large">
          <strong>You must be 18+ or older to view explicit content.</strong>
          <div class="modal-buttons">
              <button id="warningOkayBtn">Okay</button>
              <button id="warningLeaveBtn">Return</button>
          </div>
      </div>
  </div>



  <footer>
    <div id="socialBar"></div>
  </footer>
  
  <script src="./con/library.js"></script>
  <script src="./con/filters.js"></script>
  <script src="./con/char.js"></script>
  <script src="./con/con_archive.js"></script>
  <script src="./js/utility.js"></script>
  <script src="./js/select.js"></script>
  <script src="./js/utility/articles.js"></script>
  <script src="./js/utility/notice.js"></script>
  <script src="./js/archive.js"></script>
  <script src="./js/utility/prog.js"></script>  
  <script src="./js/sidebar.js"></script>
</body>
</html>
